(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{21:function(e,t,a){e.exports=a(40)},27:function(e,t,a){},28:function(e,t,a){},31:function(e,t,a){},32:function(e,t,a){},33:function(e,t,a){},34:function(e,t,a){},35:function(e,t,a){},36:function(e,t,a){},38:function(e,t,a){},40:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),c=a(18),r=a.n(c),i=(a(27),a(6)),l=a(7),o=a(10),d=a(8),u=a(9),m=a(44),p=a(43),h=a(11),v=a(2),b=a(15),E=s.a.createContext(),y=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(s)))).state={isLit:!1,news:[{id:0,type:"news",title:"\u0410\u043b\u0430\u0440\u043c \u043d\u043e\u0432\u043e\u0441\u0442\u044c1",description:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Amet architecto esse odit sapiente.",date:"2019-03-01",isChecked:!1},{id:1,type:"news",title:"Lorem ipsum!",description:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Consequuntur dolorem magnam officia sapiente voluptate voluptatibus!",date:"2019-03-10",isChecked:!1}],transactions:[{id:0,currency:"\u0431\u0430\u043a\u0441\u044b",date:"2019-03-10",description:"\u0411\u0430\u043a\u0441\u044b \u043e\u0442 \u041a\u043e\u043b\u0438",direction:"income",sender:"\u041a\u043e\u043b\u044f",type:"transactions",value:"228",isDeleted:!1},{id:1,currency:"\u0435\u0432\u0440\u043e",date:"2019-04-10",description:"\u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043e\u0442 \u0412\u0430\u0441\u0438",direction:"debt",sender:"\u0412\u0430\u0441\u044f",type:"transactions",value:"300",isDeleted:!1}]},a.getEventsTypes=function(){return{news:{title:{type:"text",placeholder:"\u0428\u043e\u043a! \u0411\u0440\u0438\u0442\u0430\u043d\u0441\u043a\u0438\u0435 \u0443\u0447\u0435\u043d\u044b\u0435..",label:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a"},description:{type:"textarea",placeholder:"\u0427\u0442\u043e \u0431\u044b \u0431\u044b\u0441\u0442\u0440\u043e \u0438 \u044d\u0444\u0444\u0435\u043a\u0442\u0438\u0432\u043d\u043e \u043f\u043e\u0445\u0443\u0434\u0435\u0448\u044c, \u043d\u0443\u0436\u043d\u043e \u043b\u0438\u0448\u044c...",label:"\u0421\u043e\u0434\u0435\u0440\u0436\u0430\u043d\u0438\u0435"},date:{type:"date",label:"\u0414\u0430\u0442\u0430"}},transactions:{value:{type:"number",placeholder:"3.14",label:"\u0421\u0443\u043c\u043c\u0430"},currency:{type:"text",placeholder:"\u0422\u0443\u0442 \u043c\u043e\u0433 \u0431\u044b\u0442\u044c \u0441\u0435\u043b\u0435\u043a\u0442\u043e\u0440",label:"\u0412\u0430\u043b\u044e\u0442\u0430"},sender:{type:"text",placeholder:"\u0415\u043c\u0435\u043b\u044c\u044f\u043d",label:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u0435\u043b\u044c"},description:{type:"textarea",placeholder:"some placeholder",label:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"},direction:{type:"select",options:[{label:"\u0420\u0430\u0441\u0445\u043e\u0434",value:"debt"},{label:"\u041f\u0440\u0438\u0445\u043e\u0434",value:"income"}],label:"\u041f\u0440\u0438\u0445\u043e\u0434/\u0440\u0430\u0441\u0445\u043e\u0434"},date:{type:"date",label:"\u0414\u0430\u0442\u0430"}}}},a.getNews=function(e){return a.state.news.length>e&&a.state.news[e]},a.getTransactions=function(e){return a.state.transactions.length>e&&a.state.transactions[e]},a.updateNews=function(e,t){var n=a.state.news;n[e]=t,a.setState(function(){return{news:n}})},a.updateTransactions=function(e,t){var n=a.state.transactions;n[e]=t,a.setState(function(){return{transactions:n}})},a.addEvent=function(e){switch(e.date||(e.date="1970-00-01"),e.type){case"news":a.addNews(e);break;case"transactions":a.addTransactions(e);break;default:console.log("kek")}},a.addNews=function(e){e.id=a.state.news.length,e.isChecked=!1,a.setState({news:[].concat(Object(b.a)(a.state.news),[e])})},a.addTransactions=function(e){e.id=a.state.transactions.length,e.isDeleted=!1,e.name="".concat(a.state.transactions.length,"Transactions"),a.setState({transactions:[].concat(Object(b.a)(a.state.transactions),[e])})},a.toggleLight=function(){console.log("newNote"),a.setState(function(e){return{isLit:!e.isLit}});console.log({id:1,name:"kek"})},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return s.a.createElement(E.Provider,{value:{isLit:this.state.isLit,onToggleLight:this.toggleLight,addEvent:this.addEvent,getEventsTypes:this.getEventsTypes,news:this.state.news,transactions:this.state.transactions,getNews:this.getNews,updateNews:this.updateNews,getTransactions:this.getTransactions,updateTransactions:this.updateTransactions}},this.props.children)}}]),t}(s.a.Component),g=E,_=(a(28),a(41)),f=function(e){return s.a.createElement(_.a,{to:"/news/".concat(e.news.id),className:"".concat(e.className," news-card")},s.a.createElement("div",{className:"news-card__header ".concat(e.news.isChecked?"":"news-card__header--new")},e.news.title))},w=(a(31),function(e){return e.transactions.isDeleted?null:s.a.createElement(_.a,{to:"/transactions/".concat(e.transactions.id),className:"".concat(e.className," transactions-card")},s.a.createElement("div",{className:"transactions-card__header"},s.a.createElement("div",null,e.transactions.direction),s.a.createElement("div",null,s.a.createElement("span",{className:"income"===e.transactions.direction?"transactions-card__value--positive":"transactions-card__value--negative"},e.transactions.value),e.transactions.currency)),s.a.createElement("div",{className:"transactions-card__footer"},s.a.createElement("span",null,"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u0435\u043b\u044c: ",e.transactions.sender),s.a.createElement("span",null,e.transactions.date)))}),N=(a(32),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).state={sortDate:"0",kek:{tet:a.sortDate},sortPriority:{news:1,transactions:1},items:a.props.news.concat(a.props.transactions)},a.setSortRule=a.setSortRule.bind(Object(v.a)(Object(v.a)(a))),a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"setSortRule",value:function(e){this.setState(Object(h.a)({},e.target.id,JSON.parse(e.target.value)))}},{key:"render",value:function(){var e=this,t=this.props.news.concat(this.props.transactions);t.sort(function(t,a){var n=e.state.sortPriority[t.type],s=e.state.sortPriority[a.type];if(n===s){var c=t.date.split("-"),r=a.date.split("-");return(new Date(c[0],c[1]-1,c[2])-new Date(r[0],r[1]-1,r[2]))*e.state.sortDate}return n-s});var a=t.map(function(e,t){var a;switch(e.type){case"news":a=s.a.createElement(f,{key:t,news:e,className:"time-line__card"});break;case"transactions":a=s.a.createElement(w,{key:t,transactions:e,className:"time-line__card"});break;default:a=null}return a});return s.a.createElement("div",{className:"time-line"},s.a.createElement("div",{className:"time-line__setting"},s.a.createElement("label",{className:"time-line__setting-label"},"\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0430 \u043f\u043e \u0434\u0430\u0442\u0435:",s.a.createElement("select",{onChange:this.setSortRule,id:"sortDate"},s.a.createElement("option",{value:0},"no priority"),s.a.createElement("option",{value:-1},"\u0421\u043d\u0430\u0447\u0430\u043b\u0430 \u043d\u043e\u0432\u044b\u0435"),s.a.createElement("option",{value:1},"\u0421\u043d\u0430\u0447\u0430\u043b\u0430 \u0441\u0442\u0430\u0440\u044b\u0435"))),s.a.createElement("label",{className:"time-line__setting-label"},"\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0430 \u043f\u043e \u0442\u0438\u043f\u0443:",s.a.createElement("select",{onChange:this.setSortRule,id:"sortPriority"},s.a.createElement("option",{value:'{"news":1,"transactions":1}'},"no priority"),s.a.createElement("option",{value:JSON.stringify({news:1,transactions:2})},"news  transactions"),s.a.createElement("option",{value:JSON.stringify({news:2,transactions:1})},"transactions  news")))),s.a.createElement("div",{className:"time-line__cards"},a))}},{key:"componentDidMount",value:function(){}},{key:"componentWillUpdate",value:function(e,t){}}]),t}(s.a.Component)),O=function(){return s.a.createElement(g.Consumer,null,function(e){var t=e.transactions,a=e.news;return s.a.createElement(N,{transactions:t,news:a})})},k=(a(33),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).state={type:"news",eventsTypes:a.props.getEventsTypes()},a.changeHandler=a.changeHandler.bind(Object(v.a)(Object(v.a)(a))),a.action=a.action.bind(Object(v.a)(Object(v.a)(a))),a.changeType=a.changeType.bind(Object(v.a)(Object(v.a)(a))),a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"action",value:function(){var e={};for(var t in e.type=this.state.type,this.state.eventsTypes[this.state.type])e[t]=this.state[t];this.props.addEvent(e),this.clearState()}},{key:"clearState",value:function(){for(var e in this.state.eventsTypes[this.state.type])this.setState(Object(h.a)({},e,""))}},{key:"changeType",value:function(e){this.clearState(),this.setState({type:e.target.value})}},{key:"changeHandler",value:function(e){this.setState(Object(h.a)({},e.target.id,e.target.value))}},{key:"render",value:function(){for(var e=this.state.eventsTypes,t=Object.keys(e),a=[],n=0;n<t.length;n++)a.push(s.a.createElement("option",{value:t[n],key:n},t[n]));var c=e[this.state.type],r=[];for(var i in c)switch(this.state[i]=this.state[i]?this.state[i]:"",c[i].type){case"date":var l=new Date,o=l.getFullYear(),d=l.getMonth()+1;d=d<10?"0"+d:d;var u=l.getDate();u=u<10?"0"+u:u,this.state[i]=this.state[i]?this.state[i]:"".concat(o,"-").concat(d,"-").concat(u);case"number":case"text":r.push(s.a.createElement("label",{key:"".concat(this.state.type,"/").concat(i),className:"add-event__label"},s.a.createElement("span",{className:"add-event__label-title"},c[i].label),s.a.createElement("input",{className:"add-event__input",onChange:this.changeHandler,key:"".concat(i,"/").concat(this.state.type),id:i,type:c[i].type,value:this.state[i],placeholder:c[i].placeholder})));break;case"select":this.state[i]=this.state[i]?this.state[i]:c[i].options[0].label,r.push(s.a.createElement("label",{key:"".concat(this.state.type,"/").concat(i),className:"add-event__label"},s.a.createElement("span",{className:"add-event__label-title"},c[i].label),s.a.createElement("select",{className:"add-event__input",id:i,onChange:this.changeHandler},c[i].options.map(function(e,t){return s.a.createElement("option",{key:t,value:e.value},e.label)}))));break;case"textarea":r.push(s.a.createElement("label",{key:"".concat(this.state.type,"/").concat(i),className:"add-event__label"},s.a.createElement("span",{className:"add-event__label-title"},c[i].label),s.a.createElement("textarea",{className:"add-event__input add-event__input--textarea",onChange:this.changeHandler,key:"".concat(i,"/").concat(this.state.type),id:i,value:this.state[i],placeholder:c[i].placeholder,cols:"10",rows:"5"})))}return s.a.createElement("div",{className:"add-event"},s.a.createElement("h4",{className:"add-event__headline"},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u043e\u0431\u044b\u0442\u0438\u0435: ",this.state.type),s.a.createElement("div",{className:"add-event__toggle"},"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0442\u0438\u043f \u0441\u043e\u0431\u044b\u0442\u0438\u044f ",s.a.createElement("select",{onChange:this.changeType},a)),s.a.createElement("div",{className:"add-event__inputs"},r),s.a.createElement("button",{className:"add-event__action",onClick:this.action},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"))}},{key:"componentDidMount",value:function(){}}]),t}(s.a.Component)),j=function(){return s.a.createElement(g.Consumer,null,function(e){var t=e.transactions,a=e.news,n=e.addEvent,c=e.getEventsTypes;return s.a.createElement(k,{transactions:t,news:a,addEvent:n,getEventsTypes:c})})},T=(a(34),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).state={isOpen:!1},a.toggle=a.toggle.bind(Object(v.a)(Object(v.a)(a))),a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"toggle",value:function(){var e=this.props.getNews(this.props.id),t=Object.assign({},e);t.isChecked=!t.isChecked,this.props.updateNews(this.props.id,t)}},{key:"render",value:function(){var e=this.props.getNews(this.props.id);return s.a.createElement("div",{className:"news-card--info"},e?s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"news-card__header"},s.a.createElement("div",{className:"news-card__header-title"},"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a: ",e.title),s.a.createElement("div",{className:"news-card__header-action"},s.a.createElement("button",{onClick:this.toggle},e.isChecked?"\u041d\u0435 \u043e\u0437\u043d\u0430\u043a\u043e\u043c\u043b\u0435\u043d":"\u041e\u0437\u043d\u0430\u043a\u043e\u043c\u043b\u0435\u043d"))),s.a.createElement("div",{className:"news-card__body"},s.a.createElement("div",{className:"new-card__body-label"},s.a.createElement("div",{className:"news-card__body-title"},"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435:"),s.a.createElement("div",{className:"news-card__body-date"},e.date)),s.a.createElement("div",{className:"news-card__body-description"},e.description))):s.a.createElement("div",null,s.a.createElement("p",null,"\u041d\u043e\u0432\u043e\u0441\u0442\u044c \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430, \u0443\u0434\u0430\u043b\u0435\u043d\u0430 \u0438\u043b\u0438 \u0435\u0449\u0435 \u043d\u0435 \u0441\u043e\u0437\u0434\u0430\u043d\u0430. =\u0421")))}}]),t}(s.a.Component)),C=function(e){return s.a.createElement(g.Consumer,null,function(t){t.transactions,t.news;var a=t.getNews,n=t.updateNews;return s.a.createElement(T,{id:e.match.params.id,getNews:a,updateNews:n})})},S=(a(35),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).state={isOpen:!1},a.toggle=a.toggle.bind(Object(v.a)(Object(v.a)(a))),a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"toggle",value:function(){var e=this.props.getTransactions(this.props.id),t=Object.assign({},e);t.isDeleted=!0,this.props.updateTransactions(this.props.id,t)}},{key:"render",value:function(){var e=this.props.getTransactions(this.props.id);return s.a.createElement("div",{className:"transactions-card--info"},e&&!e.isDeleted?s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"transactions-card__header"},s.a.createElement("div",{className:"transactions-card__header-title"},"income"===e.direction?"\u041f\u0440\u0438\u0445\u043e\u0434: ":"\u0420\u0430\u0441\u0445\u043e\u0434: "," ",e.value," ",e.currency),s.a.createElement("div",{className:"transactions-card__header-action"},s.a.createElement("button",{onClick:this.toggle},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"))),s.a.createElement("div",{className:"transactions-card__subtitle"},s.a.createElement("span",null,"\u041e\u0442 \u043a\u043e\u0433\u043e \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u044f: ",e.sender),s.a.createElement("span",{className:"transactions-card__date"},e.date)),s.a.createElement("div",{className:"transactions-card__body"},s.a.createElement("div",{className:"transactions-card__body-label"},s.a.createElement("div",{className:"transactions-card__body-title"},"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435:")),s.a.createElement("div",{className:"transactions-card__body-description"},e.description))):s.a.createElement("div",null,s.a.createElement("p",null,"\u0422\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u044f \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430, \u0443\u0434\u0430\u043b\u0435\u043d\u0430 \u0438\u043b\u0438 \u0435\u0449\u0435 \u043d\u0435 \u0441\u043e\u0437\u0434\u0430\u043d\u0430. =\u0421")))}}]),t}(s.a.Component)),x=function(e){return s.a.createElement(g.Consumer,null,function(t){var a=t.getTransactions,n=t.updateTransactions;return s.a.createElement(S,{id:e.match.params.id,getTransactions:a,updateTransactions:n})})},D=(a(36),function(){return s.a.createElement("div",{className:"mini-navigator"},s.a.createElement(_.a,{to:"/add"},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u043e\u0431\u044b\u0442\u0438\u0435"),s.a.createElement(_.a,{to:"/list"},"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043a \u0441\u043f\u0438\u0441\u043a\u0443"))}),L=a(16),H=(a(38),function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"app"},s.a.createElement(D,null),s.a.createElement("div",{className:"app__add-and-info"},s.a.createElement(L.a,{query:{maxWidth:599}},function(e){return e?s.a.createElement(m.a,null,s.a.createElement(p.a,{exact:!0,path:"/add",component:j})):s.a.createElement(j,null)}),s.a.createElement("div",{className:"app__info"},s.a.createElement(m.a,null,s.a.createElement(p.a,{exact:!0,path:"/news/:id",component:C}),s.a.createElement(p.a,{exact:!0,path:"/transactions/:id",component:x})))),s.a.createElement(L.a,{query:{maxWidth:599}},function(e){return e?s.a.createElement(m.a,null,s.a.createElement(p.a,{exact:!0,path:"/list",component:O})):s.a.createElement(O,null)}))}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var J=a(42);r.a.render(s.a.createElement(y,null,s.a.createElement(J.a,null,s.a.createElement(H,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[21,1,2]]]);
//# sourceMappingURL=main.3c7d2e5e.chunk.js.map